import{_ as v,c as f,o as l,w as c,f as d,g as p,n as u,e as m,b as e,t as g,q as h,D as w,E as y,u as n,a as i,C as x,r as k,Z as S,F as $,G as C,H as T}from"./app-BERpH-fL.js";const L={name:"GlobalAlert",setup(){return{alertStore:w()}},computed:{alertClass(){switch(this.alertStore.type){case"success":return"alert-success";case"error":return"alert-error";default:return"alert-info"}}}};function j(o,s,a,t,r,b){return l(),f(h,{name:"fade"},{default:c(()=>[t.alertStore.visible?(l(),d("div",{key:0,class:u(["global-alert",b.alertClass])},[m(g(t.alertStore.message)+" ",1),e("button",{class:"close-btn",onClick:s[0]||(s[0]=(..._)=>t.alertStore.hide&&t.alertStore.hide(..._))},"×")],2)):p("",!0)]),_:1})}const M=v(L,[["render",j],["__scopeId","data-v-b5a5915a"]]),B={class:"modal-dialog"},N={class:"modal-content"},A={class:"modal-header"},V={class:"modal-body"},E=["innerHTML"],G={class:"modal-footer"},O={},P=Object.assign(O,{__name:"GlobalConfirmModal",setup(o){const s=y();return(a,t)=>n(s).show?(l(),d("div",{key:0,class:u(["modal fade",{show:n(s).show}]),tabindex:"-1",style:{display:"block"}},[e("div",B,[e("div",N,[e("div",A,[t[3]||(t[3]=e("h5",{class:"modal-title"},"Подтверждение",-1)),e("button",{type:"button",class:"btn-close",onClick:t[0]||(t[0]=r=>n(s).close())})]),e("div",V,[e("p",{innerHTML:n(s).message},null,8,E)]),e("div",G,[e("button",{class:"btn btn-success",onClick:t[1]||(t[1]=r=>n(s).confirm())},"Подтвердить"),e("button",{class:"btn btn-danger",onClick:t[2]||(t[2]=r=>n(s).reject())},"Отклонить")])])])],2)):p("",!0)}}),U={class:"text-body-secondary",style:{padding:"0px 0px 90px 0px"}},D={class:"container d-flex justify-content-center flex-column align-items-center"},H={class:"d-flex justify-content-center my-3"},F={class:"offcanvas offcanvas-start custom-offcanvas",style:{width:"70%","border-radius":"0px 10px 10px 0px"},tabindex:"-1",id:"sidebar-menu","aria-labelledby":"offcanvasExampleLabel"},W={class:"offcanvas-body"},q={class:"list-unstyled"},z={class:"p-1"},I={data(){return{currentTheme:"",themes:[]}},watch:{},computed:{tg(){return window.Telegram.WebApp},self(){return window.botUser||null}},mounted(){this.tg.expand(),this.tg.BackButton.hide()},methods:{goTo(o){this.$router.push({name:o})},scrollTop(){window.scrollTo(0,80)},openLink(o){this.tg.openLink(o,{try_instant_view:!0})},closeShop(){this.tg.close()}}},J=Object.assign(I,{__name:"Layout",setup(o){return(s,a)=>(l(),d($,null,[i(n(S),null,{default:c(()=>[...a[2]||(a[2]=[e("title",null,"Автоматический учет доставки",-1),e("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1)])]),_:1}),a[5]||(a[5]=x('<header class="fixed-top-menu" data-bs-theme="dark"><div class="navbar shadow shadow-sm"><div class="container flex-row-reverse p-2"><span data-bs-toggle="modal" data-bs-target="#bot-info-modal" class="text-primary fw-bold cursor-pointer">Система управления доставками</span><button class="btn btn-link rounded-0 border-0 p-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar-menu" aria-controls="sidebar-menu"><i class="fa-solid fa-bars"></i></button></div></div></header>',1)),i(M),i(P),k(s.$slots,"default"),e("footer",U,[e("div",D,[e("p",H,[e("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=(...t)=>s.scrollTop&&s.scrollTop(...t))},[...a[3]||(a[3]=[e("i",{class:"fa-solid fa-arrow-up mr-2"},null,-1),m("Вернуться наверх",-1)])])])])]),e("div",F,[a[4]||(a[4]=e("div",{class:"offcanvas-header"},[e("h6",{class:"offcanvas-title",id:"offcanvasExampleLabel"},"Меню"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),e("div",W,[e("ul",q,[e("li",z,[e("a",{"data-bs-dismiss":"offcanvas",class:u([{"fw-bold":s.$route.name==="MenuPage"},"text-decoration-none fw-normal"]),onClick:a[1]||(a[1]=t=>s.goTo("MenuPage")),href:"javascript:void(0)"}," Главное меню",2)])])])])],64))}}),R={key:1,class:"container py-3"},Z={data(){return{userStore:T()}},created(){this.userStore.fetchSelf()},computed:{tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{open(o){this.tg.openLink(o)},goTo(o){this.$router.push({name:o})}}},Q=Object.assign(Z,{__name:"Main",setup(o){return(s,a)=>{var r;const t=C("router-view");return(r=s.userStore.self)!=null&&r.blocked_at?(l(),d("div",R,[...a[0]||(a[0]=[e("p",{class:"alert alert-light text-center"}," Доступ ограничен ",-1)])])):(l(),f(J,{key:0},{default:c(()=>[i(t)]),_:1}))}}});export{Q as default};
