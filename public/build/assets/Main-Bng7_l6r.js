import{_ as g,c as p,o as l,w as c,f as i,g as m,n as u,e as b,b as t,t as f,q as h,D as w,E as y,u as n,a as d,C as x,r as k,Z as S,F as $,G as C,H as T}from"./app-99F0BNHH.js";const j={name:"GlobalAlert",setup(){return{alertStore:w()}},computed:{alertClass(){switch(this.alertStore.type){case"success":return"alert-success";case"error":return"alert-error";default:return"alert-info"}}}};function L(o,s,a,e,r,_){return l(),p(h,{name:"fade"},{default:c(()=>[e.alertStore.visible?(l(),i("div",{key:0,class:u(["global-alert",_.alertClass])},[b(f(e.alertStore.message)+" ",1),t("button",{class:"close-btn",onClick:s[0]||(s[0]=(...v)=>e.alertStore.hide&&e.alertStore.hide(...v))},"×")],2)):m("",!0)]),_:1})}const B=g(j,[["render",L],["__scopeId","data-v-b5a5915a"]]),M={class:"modal-dialog"},N={class:"modal-content"},A={class:"modal-header"},V={class:"modal-body"},E={class:"modal-footer"},G={},O=Object.assign(G,{__name:"GlobalConfirmModal",setup(o){const s=y();return(a,e)=>n(s).show?(l(),i("div",{key:0,class:u(["modal fade",{show:n(s).show}]),tabindex:"-1",style:{display:"block"}},[t("div",M,[t("div",N,[t("div",A,[e[3]||(e[3]=t("h5",{class:"modal-title"},"Подтверждение",-1)),t("button",{type:"button",class:"btn-close",onClick:e[0]||(e[0]=r=>n(s).close())})]),t("div",V,[t("p",null,f(n(s).message),1)]),t("div",E,[t("button",{class:"btn btn-success",onClick:e[1]||(e[1]=r=>n(s).confirm())},"Подтвердить"),t("button",{class:"btn btn-danger",onClick:e[2]||(e[2]=r=>n(s).reject())},"Отклонить")])])])],2)):m("",!0)}}),P={class:"text-body-secondary",style:{padding:"0px 0px 90px 0px"}},U={class:"container d-flex justify-content-center flex-column align-items-center"},D={class:"d-flex justify-content-center my-3"},F={class:"offcanvas offcanvas-start custom-offcanvas",style:{width:"70%","border-radius":"0px 10px 10px 0px"},tabindex:"-1",id:"sidebar-menu","aria-labelledby":"offcanvasExampleLabel"},W={class:"offcanvas-body"},q={class:"list-unstyled"},z={class:"p-1"},H={data(){return{currentTheme:"",themes:[]}},watch:{},computed:{tg(){return window.Telegram.WebApp},self(){return window.botUser||null}},mounted(){this.tg.expand(),this.tg.BackButton.hide()},methods:{goTo(o){this.$router.push({name:o})},scrollTop(){window.scrollTo(0,80)},openLink(o){this.tg.openLink(o,{try_instant_view:!0})},closeShop(){this.tg.close()}}},I=Object.assign(H,{__name:"Layout",setup(o){return(s,a)=>(l(),i($,null,[d(n(S),null,{default:c(()=>[...a[2]||(a[2]=[t("title",null,"Автоматический учет доставки",-1),t("meta",{name:"description",content:"CashMan - система твоего бизнеса внутри"},null,-1)])]),_:1}),a[5]||(a[5]=x('<header data-bs-theme="dark"><div class="navbar shadow shadow-sm"><div class="container flex-row-reverse p-2"><span data-bs-toggle="modal" data-bs-target="#bot-info-modal" class="text-primary fw-bold cursor-pointer">Система управления доставками</span><button class="btn btn-link rounded-0 border-0 p-1" type="button" data-bs-toggle="offcanvas" data-bs-target="#sidebar-menu" aria-controls="sidebar-menu"><i class="fa-solid fa-bars"></i></button></div></div></header>',1)),d(B),d(O),k(s.$slots,"default"),t("footer",P,[t("div",U,[t("p",D,[t("a",{href:"javascript:void(0)",onClick:a[0]||(a[0]=(...e)=>s.scrollTop&&s.scrollTop(...e))},[...a[3]||(a[3]=[t("i",{class:"fa-solid fa-arrow-up mr-2"},null,-1),b("Вернуться наверх",-1)])])])])]),t("div",F,[a[4]||(a[4]=t("div",{class:"offcanvas-header"},[t("h6",{class:"offcanvas-title",id:"offcanvasExampleLabel"},f("Магазин")),t("button",{type:"button",class:"btn-close","data-bs-dismiss":"offcanvas","aria-label":"Close"})],-1)),t("div",W,[t("ul",q,[t("li",z,[t("a",{"data-bs-dismiss":"offcanvas",class:u([{"fw-bold":s.$route.name==="MenuPage"},"text-decoration-none fw-normal"]),onClick:a[1]||(a[1]=e=>s.goTo("MenuPage")),href:"javascript:void(0)"}," Главное меню",2)])])])])],64))}}),J={key:1,class:"container py-3"},R={data(){return{userStore:T()}},created(){this.userStore.fetchSelf()},computed:{tg(){return window.Telegram.WebApp},tgUser(){const o=new URLSearchParams(this.tg.initData);return JSON.parse(o.get("user"))}},mounted(){},methods:{open(o){this.tg.openLink(o)},goTo(o){this.$router.push({name:o})}}},K=Object.assign(R,{__name:"Main",setup(o){return(s,a)=>{var r;const e=C("router-view");return(r=s.userStore.self)!=null&&r.blocked_at?(l(),i("div",J,[...a[0]||(a[0]=[t("p",{class:"alert alert-light text-center"}," Доступ ограничен ",-1)])])):(l(),p(I,{key:0},{default:c(()=>[d(e)]),_:1}))}}});export{K as default};
