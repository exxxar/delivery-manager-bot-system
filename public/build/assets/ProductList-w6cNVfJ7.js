import{c as d,o as l,b as e,i as w,e as a,t as u,F as b,r as _,h as y,w as m,v as f,k as P,f as D,a as $,d as S}from"./app-C_wNTZYx.js";import{P as B}from"./Pagination-DTb7WtOj.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";import{m as h}from"./makeAxiosFactory-Dvqq3bC9.js";import{_ as N}from"./ProductCategoryList-bohs26fe.js";import{_ as j}from"./SupplierList-DizzYZZH.js";import{u as T}from"./useConfitmModalStore-CI-yqvsG.js";import{u as O}from"./users-BS4S8W6C.js";const z={name:"ProductFilter",data(){return{field_visible:{},filters:{name:"",description:"",price:"",count:"",supplier_id:"",product_category_id:""},sort:{field:"id",direction:"asc"},sortableFields:{id:"№",description:"Описание",price:"Цена",count:"Количество"}}},created(){const o=["category_name","supplier_name"];for(const t in this.sortableFields)this.field_visible[t]=o.includes(t)},methods:{clearFilters(){const o={name:"",description:"",price:"",count:"",supplier_id:"",product_category_id:""};this.size=20,this.page=1;let t=["category_name","supplier_name"];for(const s in this.sortableFields)this.field_visible[s]=t.indexOf(s)!==-1;this.filters=o},openFilter(){new bootstrap.Modal(document.getElementById("productFilterModal")).show()},changeSort(o){this.sort.field===o?this.sort.direction=this.sort.direction==="asc"?"desc":"asc":(this.sort.field=o,this.sort.direction="asc"),this.$emit("apply-filters",{filters:this.filters,sort:this.sort,field_visible:this.field_visible})},applyFilters(){this.$emit("apply-filters",{filters:this.filters,sort:this.sort,field_visible:this.field_visible}),bootstrap.Modal.getInstance(document.getElementById("productFilterModal")).hide()}}},q={class:"d-flex mb-2"},A={class:"dropdown d-inline-block ms-2"},G={style:{"font-size":"12px"},class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown"},L={key:0},R={key:1},H={key:2},J={class:"dropdown-menu"},K=["onClick"],Q={class:"modal fade",id:"productFilterModal",tabindex:"-1"},W={class:"modal-dialog modal-fullscreen"},X={class:"modal-body"},Y={class:"form-floating mb-2"},Z={class:"form-floating mb-2"},x={class:"form-floating mb-2"},tt={class:"form-floating mb-2"},et={class:"form-floating mb-2"},st={class:"form-floating mb-2"},ot=["onUpdate:modelValue","id"],it=["for"];function lt(o,t,s,i,r,p){return l(),d("div",null,[e("div",q,[e("button",{style:{"font-size":"12px"},class:"btn btn-secondary",onClick:t[0]||(t[0]=(...n)=>p.openFilter&&p.openFilter(...n))},"Фильтр"),e("div",A,[e("button",G,[w(u(r.sortableFields[r.sort.field].slice(0,17))+" ",1),r.sortableFields[r.sort.field].length>17?(l(),d("span",L,"...")):a("",!0),t[11]||(t[11]=w(" (",-1)),r.sort.direction==="asc"?(l(),d("span",R,[...t[9]||(t[9]=[e("i",{class:"fa-solid fa-arrow-down"},null,-1)])])):a("",!0),r.sort.direction==="desc"?(l(),d("span",H,[...t[10]||(t[10]=[e("i",{class:"fa-solid fa-arrow-up"},null,-1)])])):a("",!0),t[12]||(t[12]=w(") ",-1))]),e("ul",J,[(l(!0),d(b,null,_(r.sortableFields,(n,c)=>(l(),d("li",{key:c},[e("a",{class:"dropdown-item",onClick:v=>p.changeSort(c)},u(n),9,K)]))),128))])])]),e("div",Q,[e("div",W,[e("form",{class:"modal-content",onSubmit:t[8]||(t[8]=y((...n)=>p.applyFilters&&p.applyFilters(...n),["prevent"]))},[t[20]||(t[20]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Фильтры товаров"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),e("div",X,[e("div",Y,[m(e("input",{"onUpdate:modelValue":t[1]||(t[1]=n=>r.filters.name=n),class:"form-control",id:"nameInput",placeholder:"Название"},null,512),[[f,r.filters.name]]),t[13]||(t[13]=e("label",{for:"nameInput"},"Название",-1))]),e("div",Z,[m(e("input",{"onUpdate:modelValue":t[2]||(t[2]=n=>r.filters.description=n),class:"form-control",id:"descInput",placeholder:"Описание"},null,512),[[f,r.filters.description]]),t[14]||(t[14]=e("label",{for:"descInput"},"Описание",-1))]),e("div",x,[m(e("input",{type:"number","onUpdate:modelValue":t[3]||(t[3]=n=>r.filters.price=n),class:"form-control",id:"priceInput",placeholder:"Цена"},null,512),[[f,r.filters.price]]),t[15]||(t[15]=e("label",{for:"priceInput"},"Цена",-1))]),e("div",tt,[m(e("input",{type:"number","onUpdate:modelValue":t[4]||(t[4]=n=>r.filters.count=n),class:"form-control",id:"countInput",placeholder:"Количество"},null,512),[[f,r.filters.count]]),t[16]||(t[16]=e("label",{for:"countInput"},"Количество",-1))]),e("div",et,[m(e("input",{type:"number","onUpdate:modelValue":t[5]||(t[5]=n=>r.filters.supplier_id=n),class:"form-control",id:"supplierInput",placeholder:"ID поставщика"},null,512),[[f,r.filters.supplier_id]]),t[17]||(t[17]=e("label",{for:"supplierInput"},"ID поставщика",-1))]),e("div",st,[m(e("input",{type:"number","onUpdate:modelValue":t[6]||(t[6]=n=>r.filters.product_category_id=n),class:"form-control",id:"categoryInput",placeholder:"ID категории"},null,512),[[f,r.filters.product_category_id]]),t[18]||(t[18]=e("label",{for:"categoryInput"},"ID категории",-1))]),t[19]||(t[19]=e("h6",{class:"mt-3"},"Отображаемые поля",-1)),(l(!0),d(b,null,_(r.sortableFields,(n,c)=>(l(),d("div",{key:c,class:"form-check form-switch mb-2"},[m(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":v=>r.field_visible[c]=v,id:`switch-${c}`},null,8,ot),[[P,r.field_visible[c]]]),e("label",{class:"form-check-label",for:`switch-${c}`},u(n),9,it)]))),128)),e("button",{type:"button",onClick:t[7]||(t[7]=(...n)=>p.clearFilters&&p.clearFilters(...n)),class:"btn btn-outline-light text-secondary mb-2 w-100 p-3"},"Очистить фильтры ")]),t[21]||(t[21]=e("div",{class:"modal-footer"},[e("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Применить")],-1))],32)])])])}const rt=V(z,[["render",lt]]),g="/bot-api/products",F=D("products",{state:()=>({items:[],loading:!1,filters:null,error:null,sort:{field:"id",direction:"desc"}}),getters:{byId:o=>t=>o.items.find(s=>s.id===t)},actions:{setFilters(o){this.filters=o},setSort(o,t){this.sort={field:o,direction:t}},async fetchAll(){this.loading=!0,this.error=null;try{const{data:o}=await h(`${g}`,"GET");this.items=o}catch(o){this.error=(o==null?void 0:o.message)||"Failed to load products"}finally{this.loading=!1}},async fetchAllByPage(o=1){const{data:t}=await h(`${g}?page=${o}`,"GET");this.items=t.data,this.pagination=t},async fetchByUrl(o){const{data:t}=await h(o,"GET");this.items=t.data,this.pagination=t},async fetchOne(o){try{const{data:t}=await h(`${g}/${o}`,"GET");return t}catch(t){throw this.error=(t==null?void 0:t.message)||"Failed to load product",t}},async fetchFilteredProducts(o=1,t=30){const s=new URLSearchParams;Object.entries(this.filters).forEach(([r,p])=>{p!=null&&p!==""&&s.append(r,String(p))}),s.append("sort_field",this.sort.field),s.append("sort_direction",this.sort.direction),s.append("page",String(o)),s.append("size",String(t));const{data:i}=await h(`${g}?${s.toString()}`,"GET");return this.items=i.data,this.pagination=i,!0},async create(o){const{data:t}=await h(`${g}`,"POST",o);return this.items.push(t),t},async update(o,t){const{data:s}=await h(`${g}/${o}`,"PUT",t),i=this.items.findIndex(r=>r.id===o);return i!==-1&&(this.items[i]=s),s},async remove(o){await h(`${g}/${o}`,"DELETE"),this.items=this.items.filter(t=>t.id!==o)}}}),nt={class:"container-fluid p-0"},dt={class:"form-floating mb-2"},at={class:"form-floating mb-2"},ut={name:"ProductSimpleForm",props:["supplierId"],data(){return{tab:"main",productStore:F(),form:{name:"",category:"",supplier_id:null}}},created(){this.form.supplier_id=this.supplierId||null},methods:{async submitForm(){try{await this.productStore.create(this.form).then(o=>{this.$emit("saved",o)})}catch(o){console.error("Ошибка сохранения продукта:",o)}}}},pt=Object.assign(ut,{setup(o){return(t,s)=>(l(),d("div",nt,[e("form",{onSubmit:s[2]||(s[2]=y((...i)=>t.submitForm&&t.submitForm(...i),["prevent"]))},[e("div",dt,[m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.form.name=i),type:"text",class:"form-control",id:"name",placeholder:"Название",required:""},null,512),[[f,t.form.name]]),s[3]||(s[3]=e("label",{for:"name"},"Название продукта",-1))]),e("div",at,[m(e("input",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.form.category=i),type:"text",class:"form-control",id:"category",placeholder:"Название",required:""},null,512),[[f,t.form.category]]),s[4]||(s[4]=e("label",{for:"category"},"Название категории",-1))]),s[5]||(s[5]=e("button",{type:"submit",class:"btn btn-primary w-100 p-3"}," Добавить продукт ",-1))],32)]))}}),mt={class:"container-fluid p-0"},ct={class:"form-floating mb-2"},ft={class:"form-floating mb-2"},bt={class:"input-group mb-2"},ht={class:"form-floating flex-grow-1"},yt=["value"],gt={class:"input-group mb-2"},vt={class:"form-floating flex-grow-1"},wt=["value"],kt={class:"form-check form-switch mb-2"},St={class:"form-floating mb-2"},_t={class:"form-floating mb-2"},$t=["disabled"],Pt={name:"ProductForm",props:{initialData:{type:Object,default:null}},data(){return{tab:"main",productStore:F(),need_numeric_params:!1,form:{name:"",description:"",price:0,count:0,supplier_id:null,product_category_id:null},supplierName:"",categoryName:"",isEdit:!1}},created(){var o,t;this.initialData&&(this.form={...this.initialData},this.isEdit=!0,this.supplierName=((o=this.initialData.supplier)==null?void 0:o.name)||"",this.categoryName=((t=this.initialData.category)==null?void 0:t.name)||"")},methods:{selectSupplier(o){this.form.supplier_id=o.id,this.supplierName=o.name,this.tab="main"},selectCategory(o){this.form.product_category_id=o.id,this.categoryName=o.name,this.tab="main"},async submitForm(){try{this.isEdit?await this.productStore.update(this.form.id,this.form):await this.productStore.create(this.form),this.$emit("saved")}catch(o){console.error("Ошибка сохранения продукта:",o)}}}},U=Object.assign(Pt,{setup(o){return(t,s)=>(l(),d("div",mt,[t.tab==="main"?(l(),d("form",{key:0,onSubmit:s[7]||(s[7]=y((...i)=>t.submitForm&&t.submitForm(...i),["prevent"]))},[e("div",ct,[m(e("input",{"onUpdate:modelValue":s[0]||(s[0]=i=>t.form.name=i),type:"text",class:"form-control",id:"name",placeholder:"Название",required:""},null,512),[[f,t.form.name]]),s[10]||(s[10]=e("label",{for:"name"},"Название продукта",-1))]),e("div",ft,[m(e("textarea",{"onUpdate:modelValue":s[1]||(s[1]=i=>t.form.description=i),class:"form-control",id:"description",placeholder:"Описание",style:{height:"120px"},required:""},null,512),[[f,t.form.description]]),s[11]||(s[11]=e("label",{for:"description"},"Описание",-1))]),e("div",bt,[e("div",ht,[e("input",{type:"text",class:"form-control",id:"supplier",value:t.supplierName,placeholder:"Поставщик",readonly:""},null,8,yt),s[12]||(s[12]=e("label",{for:"supplier"},"Поставщик",-1))]),e("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:s[2]||(s[2]=i=>t.tab="supplier")}," Выбрать ")]),e("div",gt,[e("div",vt,[e("input",{type:"text",class:"form-control",id:"category",value:t.categoryName,placeholder:"Категория",readonly:""},null,8,wt),s[13]||(s[13]=e("label",{for:"category"},"Категория",-1))]),e("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:s[3]||(s[3]=i=>t.tab="category")}," Выбрать ")]),e("div",kt,[m(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[4]||(s[4]=i=>t.need_numeric_params=i),id:"need_numeric_params"},null,512),[[P,t.need_numeric_params]]),s[14]||(s[14]=e("label",{class:"form-check-label",for:"need_numeric_params"}," Нужны параметры цены и кол-ва ",-1))]),t.need_numeric_params?(l(),d(b,{key:0},[e("div",St,[m(e("input",{"onUpdate:modelValue":s[5]||(s[5]=i=>t.form.price=i),type:"number",step:"0.01",class:"form-control",id:"price",placeholder:"Цена",required:""},null,512),[[f,t.form.price]]),s[15]||(s[15]=e("label",{for:"price"},"Цена",-1))]),e("div",_t,[m(e("input",{"onUpdate:modelValue":s[6]||(s[6]=i=>t.form.count=i),type:"number",class:"form-control",id:"count",placeholder:"Количество",required:""},null,512),[[f,t.form.count]]),s[16]||(s[16]=e("label",{for:"count"},"Количество",-1))])],64)):a("",!0),e("button",{disabled:!t.supplierName||!t.categoryName,type:"submit",class:"btn btn-primary w-100 p-3"},u(t.isEdit?"Сохранить изменения":"Добавить продукт"),9,$t)],32)):a("",!0),t.tab==="supplier"?(l(),d(b,{key:1},[e("button",{onClick:s[8]||(s[8]=i=>t.tab="main"),class:"btn btn-light text-secondary mb-3",style:{position:"sticky",top:"0px","z-index":"100"}},"Назад "),$(j,{"for-select":!0,onSelect:t.selectSupplier},null,8,["onSelect"])],64)):a("",!0),t.tab==="category"?(l(),d(b,{key:2},[e("button",{onClick:s[9]||(s[9]=i=>t.tab="main"),class:"btn btn-light text-secondary mb-3",style:{position:"sticky",top:"0px","z-index":"100"}},"Назад "),$(N,{"for-select":!0,onSelect:t.selectCategory},null,8,["onSelect"])],64)):a("",!0)]))}}),Ft={name:"ProductCard",props:{product:{type:Object,required:!0}}},It={class:"list-group list-group-flush"},Ct={class:"list-group-item d-flex justify-content-between"},Et={class:"list-group-item d-flex justify-content-between"},Vt={class:"list-group-item d-flex justify-content-between"},Ut={class:"list-group-item d-flex justify-content-between"},Mt={style:{"text-align":"right"}},Dt={class:"list-group-item d-flex justify-content-between"},Bt={style:{"text-align":"right"}},Nt={class:"list-group-item",style:{"text-align":"justify"}};function jt(o,t,s,i,r,p){var n,c;return l(),d(b,null,[e("ul",It,[e("li",Ct,[t[1]||(t[1]=e("span",null,[e("strong",null,"Название:")],-1)),e("span",null,u(s.product.name),1)]),e("li",Et,[t[2]||(t[2]=e("span",null,[e("strong",null,"Цена:")],-1)),e("span",null,u(s.product.price)+" ₽",1)]),e("li",Vt,[t[3]||(t[3]=e("span",null,[e("strong",null,"Количество:")],-1)),e("span",null,u(s.product.count),1)]),e("li",Ut,[t[4]||(t[4]=e("span",null,[e("strong",null,"Поставщик:")],-1)),e("span",Mt,u(((n=s.product.supplier)==null?void 0:n.name)||"не выбран"),1)]),e("li",Dt,[t[5]||(t[5]=e("span",null,[e("strong",null,"Категория:")],-1)),e("span",Bt,u(((c=s.product.category)==null?void 0:c.name)||"не выбрана"),1)]),e("li",Nt,u(s.product.description),1)]),e("button",{class:"btn btn-primary p-3 w-100",onClick:t[0]||(t[0]=v=>o.$emit("edit",s.product))},"Редактировать")],64)}const M=V(Ft,[["render",jt]]),Tt={class:"input-group mb-2"},Ot={class:"form-floating"},zt={class:"form-check form-switch mb-2"},qt={key:2,class:"list-group"},At=["onClick"],Gt={class:"fw-bold"},Lt={key:0,class:"badge bg-primary"},Rt={key:0,class:"text-muted small mb-0"},Ht={class:"text-muted small mb-0 fst-italic"},Jt={class:"text-muted small mb-0"},Kt={class:"fst-italic text-lowercase fw-bold small"},Qt={key:1,class:"text-muted small mb-0"},Wt={key:2,class:"text-muted small mb-0"},Xt={class:"dropdown"},Yt={class:"dropdown-menu dropdown-menu-end"},Zt={key:0},xt=["onClick"],te=["onClick"],ee=["onClick"],se={key:0},oe=["onClick"],ie={key:3,class:"alert alert-info mt-3"},le={class:"modal fade",id:"editProductModal",tabindex:"-1"},re={class:"modal-dialog modal-lg"},ne={class:"modal-content"},de={class:"modal-body"},ae={class:"modal fade",id:"viewProductModal",tabindex:"-1"},ue={class:"modal-dialog modal-lg"},pe={class:"modal-content"},me={class:"modal-body"},ce={name:"ProductList",components:{ProductForm:U,ProductCard:M},props:["forSelect","filters"],data(){return{showProductForm:!1,search:null,field_visible:null,productStore:F(),modalStore:T(),userStore:O(),products:[],selectedProduct:null}},computed:{user(){return this.userStore.self||null}},created(){this.filters?(this.productStore.setFilters({supplier_id:this.filters.supplier_id||null}),this.productStore.setSort("id","asc"),this.productStore.fetchFilteredProducts(0,30)):this.fetchData()},methods:{addNewProduct(o){this.$emit("select",o)},finishEdit(){this.fetchData();const o=bootstrap.Modal.getInstance(document.getElementById("editProductModal"));o&&o.hide()},findProduct(){this.productStore.setFilters({name:this.search||""}),this.productStore.setSort("id","asc"),this.productStore.fetchFilteredProducts(0,30)},async applyFilters(o){this.field_visible=o.field_visible;let t=o.size||30,s=o.page||1;delete o.field_visible,this.productStore.setFilters(o.filters),this.productStore.setSort(o.sort.field,o.sort.direction),await this.productStore.fetchFilteredProducts(s,t)},async fetchData(o=1){await this.productStore.fetchAllByPage(o)},async fetchDataByUrl(o){await this.productStore.fetchByUrl(o)},closeEdit(){const o=bootstrap.Modal.getInstance(document.getElementById("viewProductModal"));o&&o.hide()},openEdit(o){this.selectedProduct=o,new bootstrap.Modal(document.getElementById("editProductModal")).show(),this.closeEdit()},confirmDelete(o){var t;this.selectedProduct=o,this.modalStore.open(`Вы уверены, что хотите удалить <b>${(t=this.selectedProduct)==null?void 0:t.name}</b>?`,()=>this.productStore.remove(this.selectedProduct.id),()=>this.modalStore.close())},async deleteProduct(){await this.productStore.remove(this.selectedProduct.id),bootstrap.Modal.getInstance(document.getElementById("deleteProductModal")).hide()},openView(o){this.selectedProduct=o,new bootstrap.Modal(document.getElementById("viewProductModal")).show()}}},Se=Object.assign(ce,{setup(o){return(t,s)=>(l(),d(b,null,[e("div",Tt,[e("div",Ot,[m(e("input",{class:"form-control",type:"search",onChange:s[0]||(s[0]=(...i)=>t.findProduct&&t.findProduct(...i)),"onUpdate:modelValue":s[1]||(s[1]=i=>t.search=i),id:"productSearchInput",placeholder:"Товар"},null,544),[[f,t.search]]),s[4]||(s[4]=e("label",{for:"productSearchInput"},"Товар",-1))]),e("button",{onClick:s[2]||(s[2]=(...i)=>t.findProduct&&t.findProduct(...i)),type:"button",class:"btn btn-outline-light text-primary"}," Найти ")]),o.forSelect?a("",!0):(l(),S(rt,{key:0,onApplyFilters:t.applyFilters},null,8,["onApplyFilters"])),e("div",zt,[m(e("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":s[3]||(s[3]=i=>t.showProductForm=i),id:"show-simple-supplier-form"},null,512),[[P,t.showProductForm]]),s[5]||(s[5]=e("label",{class:"form-check-label",for:"show-simple-supplier-form"}," Добавить и выбрать новый товар ",-1))]),t.showProductForm?(l(),S(pt,{key:1,"supplier-id":o.filters.supplier_id,onSaved:t.addNewProduct,class:"mb-2","is-simple":!0},null,8,["supplier-id","onSaved"])):a("",!0),t.productStore.items.length>0?(l(),d("ul",qt,[(l(!0),d(b,null,_(t.productStore.items,i=>{var r,p,n,c,v,I,C,E;return l(),d("li",{key:i.id,class:"list-group-item d-flex justify-content-between align-items-center"},[e("div",{onClick:y(k=>t.$emit("select",i),["prevent"])},[e("div",Gt,[(r=t.field_visible)!=null&&r.id?(l(),d("span",Lt,"#"+u(i.id),1)):a("",!0),w(" "+u(i.name),1)]),(p=t.field_visible)!=null&&p.description?(l(),d("p",Rt,u(i.description),1)):a("",!0),e("p",Ht,[s[6]||(s[6]=e("i",{class:"fa-solid fa-tags text-primary"},null,-1)),w(" "+u(((n=i.category)==null?void 0:n.name)||"-"),1)]),e("p",Jt,[s[7]||(s[7]=e("i",{class:"fa-solid fa-truck text-primary"},null,-1)),w(" "+u(((c=i.supplier)==null?void 0:c.name)||"-")+" ",1),e("span",Kt,"("+u(((v=i.supplier)==null?void 0:v.description)||"-")+")",1)]),(I=t.field_visible)!=null&&I.price?(l(),d("p",Qt,u(i.price)+" руб ",1)):a("",!0),(C=t.field_visible)!=null&&C.count?(l(),d("p",Wt,u(i.count)+" ед. ",1)):a("",!0)],8,At),e("div",Xt,[s[8]||(s[8]=e("button",{class:"btn btn-sm",type:"button","data-bs-toggle":"dropdown"},[e("i",{class:"fas fa-bars"})],-1)),e("ul",Yt,[o.forSelect?(l(),d("li",Zt,[e("a",{class:"dropdown-item",href:"#",onClick:y(k=>t.$emit("select",i),["prevent"])},"Выбрать",8,xt)])):a("",!0),o.forSelect?a("",!0):(l(),d(b,{key:1},[e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:y(k=>t.openView(i),["prevent"])},"Просмотреть",8,te)]),e("li",null,[e("a",{class:"dropdown-item",href:"#",onClick:y(k=>t.openEdit(i),["prevent"])},"Редактировать",8,ee)]),(((E=t.user)==null?void 0:E.role)||0)>=3?(l(),d("li",se,[e("a",{class:"dropdown-item text-danger",href:"#",onClick:y(k=>t.confirmDelete(i),["prevent"])},"Удалить",8,oe)])):a("",!0)],64))])])])}),128))])):a("",!0),$(B,{pagination:t.productStore.pagination,onPageChanged:t.fetchDataByUrl},null,8,["pagination","onPageChanged"]),t.productStore.items.length===0?(l(),d("div",ie," Товаров пока нет. ")):a("",!0),e("div",le,[e("div",re,[e("div",ne,[s[9]||(s[9]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Редактирование товара"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),e("div",de,[t.selectedProduct?(l(),S(U,{key:0,initialData:t.selectedProduct,onSaved:t.finishEdit},null,8,["initialData","onSaved"])):a("",!0)])])])]),e("div",ae,[e("div",ue,[e("div",pe,[s[10]||(s[10]=e("div",{class:"modal-header"},[e("h5",{class:"modal-title"},"Карточка товара"),e("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),e("div",me,[t.selectedProduct?(l(),S(M,{key:0,product:t.selectedProduct,onClose:t.closeEdit,onEdit:t.openEdit},null,8,["product","onClose","onEdit"])):a("",!0)])])])])],64))}});export{M as P,U as _,Se as a};
