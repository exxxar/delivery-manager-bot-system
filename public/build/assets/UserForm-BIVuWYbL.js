import{u as m}from"./users-D3kVT514.js";import{c as n,o as a,b as o,w as l,v as i,J as p,t as f,h as d}from"./app-DJ8Fva7W.js";import{_ as u}from"./_plugin-vue_export-helper-DlAUqK2U.js";const b={name:"UserForm",props:{initialData:{type:Object,default:null}},data(){return{userStore:m(),form:{name:"",email:"",telegram_chat_id:"",role:0,percent:0,mentor_percent:0,password:""},isEdit:!1}},created(){this.initialData&&(this.form={...this.initialData},this.isEdit=!0)},methods:{async submitForm(){await this.userStore.update(this.form.id,this.form),this.$emit("saved")}}},v={class:"form-floating mb-2"},g={class:"form-floating mb-2"},c={class:"form-floating mb-2"},y={class:"form-floating mb-2"},U={class:"form-floating mb-2"},_={class:"form-floating mb-2"},D={type:"submit",class:"btn btn-primary w-100 p-3"};function V(w,e,x,E,t,s){return a(),n("form",{onSubmit:e[6]||(e[6]=d((...r)=>s.submitForm&&s.submitForm(...r),["prevent"]))},[o("div",v,[l(o("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>t.form.name=r),type:"text",class:"form-control",id:"name",placeholder:"Имя",required:""},null,512),[[i,t.form.name]]),e[7]||(e[7]=o("label",{for:"name"},"Имя",-1))]),o("div",g,[l(o("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>t.form.email=r),type:"email",class:"form-control",id:"email",placeholder:"Email",required:""},null,512),[[i,t.form.email]]),e[8]||(e[8]=o("label",{for:"email"},"Email",-1))]),o("div",c,[l(o("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>t.form.telegram_chat_id=r),type:"text",class:"form-control",id:"telegram_chat_id",placeholder:"Telegram Chat ID"},null,512),[[i,t.form.telegram_chat_id]]),e[9]||(e[9]=o("label",{for:"telegram_chat_id"},"Telegram Chat ID",-1))]),o("div",y,[l(o("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>t.form.role=r),class:"form-select",id:"role",required:""},[...e[10]||(e[10]=[o("option",{value:0},"Пользователь",-1),o("option",{value:1},"Администратор",-1),o("option",{value:2},"Поставщик",-1),o("option",{value:3},"Старший администратор",-1),o("option",{value:4},"Суперадмин",-1)])],512),[[p,t.form.role]]),e[11]||(e[11]=o("label",{for:"role"},"Роль",-1))]),o("div",U,[l(o("input",{"onUpdate:modelValue":e[4]||(e[4]=r=>t.form.percent=r),type:"number",step:"0.01",class:"form-control",id:"percent",placeholder:"Процент"},null,512),[[i,t.form.percent]]),e[12]||(e[12]=o("label",{for:"percent"},"Процент",-1))]),o("div",_,[l(o("input",{"onUpdate:modelValue":e[5]||(e[5]=r=>t.form.mentor_percent=r),type:"number",step:"0.01",class:"form-control",id:"mentor_percent",placeholder:"Процент"},null,512),[[i,t.form.mentor_percent]]),e[13]||(e[13]=o("label",{for:"mentor_percent"},"Процент наставника",-1))]),o("button",D,f(t.isEdit?"Сохранить изменения":"Создать пользователя"),1)],32)}const q=u(b,[["render",V]]);export{q as U};
