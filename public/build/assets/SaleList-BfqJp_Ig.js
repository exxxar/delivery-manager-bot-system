import{c as n,o,b as l,i as p,e as d,t as m,h as k,F as c,w as b,J as _,E as O,k as F,v as y,r as I,a as C,H,n as T,M as R,d as P}from"./app-CL7EA87n.js";import{a as G,u as D,_ as K}from"./SaleForm-CDWWPAKl.js";import{P as Q}from"./Pagination-2y-R-MGf.js";import{a as W,u as X}from"./ReportGenerator-DOfHK5KH.js";import{_ as Y}from"./SupplierList-D8OXz6uY.js";import{a as Z}from"./ProductList-N1kAW6R8.js";import{_ as x}from"./ProductCategoryList-Bihu4dY3.js";import{u as J,a as ee}from"./useConfitmModalStore-Bv6_M0jO.js";import{_ as V}from"./_plugin-vue_export-helper-DlAUqK2U.js";const te={class:"mb-2"},le={class:"dropdown d-inline-block ms-2"},se={style:{"font-size":"12px"},class:"btn btn-outline-secondary",type:"button","data-bs-toggle":"dropdown"},oe={key:0},ne={key:1},ie={key:2},ae={class:"dropdown-menu"},de={class:"modal fade",id:"saleFilterModal",tabindex:"-1"},re={class:"modal-dialog modal-fullscreen"},ue={class:"modal-body"},me={class:"form-floating mb-2"},pe={key:0,class:"form-check form-switch mb-2"},fe={class:"form-floating mb-2"},be={class:"form-floating mb-2"},ce={class:"form-floating mb-2"},ye={class:"form-floating mb-2"},ge={class:"form-floating mb-2"},ve={class:"form-floating mb-2"},ke={class:"form-floating mb-2"},he={class:"input-group mb-2"},Se={class:"form-floating flex-grow-1"},Ce=["value"],we={class:"input-group mb-2"},_e={class:"form-floating flex-grow-1"},Fe=["value"],$e={class:"input-group mb-2"},Pe={class:"form-floating flex-grow-1"},Te=["value"],De={class:"input-group mb-2"},Ie={class:"form-floating flex-grow-1"},Ve=["value"],Me={class:"input-group mb-2"},Ae={class:"form-floating flex-grow-1"},Ue=["value"],qe=["onUpdate:modelValue","id"],je=["for"],ze={class:"form-floating mb-2"},Be={class:"form-floating mb-3"},Ee={name:"SaleFilterForm",data(){return{page:0,size:20,onlyMyTask:!1,needCompletedTask:!1,userStore:J(),salesStore:D(),tab:"filter",titleMap:{agent:"Выбор младшего админа",customer:"Выбор клиента",supplier:"Выбор поставщика"},selectedAgent:null,selectedProduct:null,selectedProductCategory:null,selectedSupplier:null,selectedCustomer:null,field_visible:[],sortableFields:{id:"№",title:"Название",description:"Описание",status:"Статус",due_date:"Дата назначения встречи",sale_date:"Дата продажи",payment_type:"Тип оплаты",actual_delivery_date:"Фактическая дата доставки",quantity:"Доставляемое число товара",total_price:"Сумма заказа",agent_id:"Администратор",customer_id:"Клиент",supplier_id:"Поставщик",created_by_id:"Создатель заявки",product_id:"Продукт"},filters:{number:"",title:"",payment_type:null,description:"",status:"",date_type:null,date_from:"",date_to:"",agent_id:"",customer_id:"",supplier_id:"",created_by_id:"",product_id:"",product_category_id:"",quantity:"",total_price:""}}},computed:{role(){var s;return((s=this.userStore.self)==null?void 0:s.role)??0}},mounted(){let s=["title","description","status","due_date","agent_id"];for(const e in this.sortableFields)this.field_visible[e]=s.indexOf(e)!==-1;this.tab="filter"},methods:{applyFilters(){const s={...this.filters,size:this.size,page:this.page,only_my_tasks:this.onlyMyTask,field_visible:this.field_visible},e=bootstrap.Modal.getInstance(document.getElementById("saleFilterModal"));e&&e.hide(),this.$emit("apply-filters",s)},cancelAgent(){this.selectedAgent=null,this.$nextTick(()=>{this.filters.agent_id=null})},selectAgent(s){this.selectedAgent=null,this.$nextTick(()=>{this.selectedAgent=s,this.filters.agent_id=(s==null?void 0:s.id)||null,this.tab="filter"})},openFilter(){new bootstrap.Modal(document.getElementById("saleFilterModal")).show()},cancelCustomer(){this.selectedCustomer=null,this.$nextTick(()=>{this.filters.customer_id=null})},selectCustomer(s){this.selectedCustomer=null,this.$nextTick(()=>{this.selectedCustomer=s,this.filters.customer_id=(s==null?void 0:s.id)||null,this.tab="filter"})},cancelProductCategory(){this.selectedProductCategory=null,this.$nextTick(()=>{this.filters.product_category_id=null})},selectProductCategory(s){console.log(s),this.selectedProductCategory=null,this.$nextTick(()=>{this.selectedProductCategory=s,this.filters.product_category_id=(s==null?void 0:s.id)||null,this.tab="filter"})},cancelProduct(){this.selectedProduct=null,this.$nextTick(()=>{this.filters.product_id=null})},selectProduct(s){this.selectedProduct=null,this.$nextTick(()=>{this.selectedProduct=s,this.filters.product_id=(s==null?void 0:s.id)||null,this.tab="filter"})},cancelSupplier(){this.selectedSupplier=null,this.$nextTick(()=>{this.filters.supplier_id=null})},selectSupplier(s){this.selectedSupplier=null,this.$nextTick(()=>{this.selectedSupplier=s,this.filters.supplier_id=(s==null?void 0:s.id)||null,this.tab="filter"})},changeSort(s){const e=this.salesStore.sort,t=e.field===s&&e.direction==="asc"?"desc":"asc";this.salesStore.setSort(s,t),this.salesStore.fetchFiltered()},clearFilters(){const s={number:"",title:"",description:"",status:"",date_type:null,date_from:"",date_to:"",agent_id:"",customer_id:"",product_id:"",product_category_id:"",supplier_id:"",created_by_id:"",quantity:"",total_price:""};this.size=20,this.page=0,this.onlyMyTask=!1;let e=["title","description","status","due_date","agent_id"];for(const t in this.sortableFields)this.field_visible[t]=e.indexOf(t)!==-1;this.filters=s}}},Ne=Object.assign(Ee,{setup(s){return(e,t)=>{var a,r,f,u,g;return o(),n(c,null,[l("div",te,[l("button",{style:{"font-size":"12px"},class:"btn btn-secondary",onClick:t[0]||(t[0]=(...i)=>e.openFilter&&e.openFilter(...i))},"Фильтр "),l("div",le,[l("button",se,[p(m(e.sortableFields[e.salesStore.sort.field].slice(0,17))+" ",1),e.sortableFields[e.salesStore.sort.field].length>17?(o(),n("span",oe,"...")):d("",!0),t[46]||(t[46]=p(" (",-1)),e.salesStore.sort.direction==="asc"?(o(),n("span",ne,[...t[44]||(t[44]=[l("i",{class:"fa-solid fa-arrow-down"},null,-1)])])):d("",!0),e.salesStore.sort.direction==="desc"?(o(),n("span",ie,[...t[45]||(t[45]=[l("i",{class:"fa-solid fa-arrow-up"},null,-1)])])):d("",!0),t[47]||(t[47]=p(") ",-1))]),l("ul",ae,[l("li",null,[l("a",{class:"dropdown-item",onClick:t[1]||(t[1]=i=>e.changeSort("id"))},"№")]),l("li",null,[l("a",{class:"dropdown-item",onClick:t[2]||(t[2]=i=>e.changeSort("title"))},"Название")]),l("li",null,[l("a",{class:"dropdown-item",onClick:t[3]||(t[3]=i=>e.changeSort("status"))},"Статус")]),l("li",null,[l("a",{class:"dropdown-item",onClick:t[4]||(t[4]=i=>e.changeSort("sale_date"))},"Дата продажи")]),l("li",null,[l("a",{class:"dropdown-item",onClick:t[5]||(t[5]=i=>e.changeSort("total_price"))},"Сумма")])])])]),l("div",de,[l("div",re,[l("form",{onSubmit:t[43]||(t[43]=k((...i)=>e.applyFilters&&e.applyFilters(...i),["prevent"])),class:"modal-content"},[t[74]||(t[74]=l("div",{class:"modal-header"},[l("h5",{class:"modal-title"},"Фильтры"),l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l("div",ue,[e.tab==="filter"?(o(),n(c,{key:0},[l("div",me,[b(l("select",{"onUpdate:modelValue":t[6]||(t[6]=i=>e.filters.status=i),class:"form-select",id:"statusSelect"},[...t[48]||(t[48]=[O('<option value="">Все</option><option value="pending">В ожидании</option><option value="completed">Завершено</option><option value="delivered">Доставляется</option><option value="rejected">Отклонено</option>',5)])],512),[[_,e.filters.status]]),t[49]||(t[49]=l("label",{for:"statusSelect"},"Статус",-1))]),e.role>=3?(o(),n("div",pe,[b(l("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":t[7]||(t[7]=i=>e.onlyMyTask=i),id:"only-my-tasks"},null,512),[[F,e.onlyMyTask]]),t[50]||(t[50]=l("label",{class:"form-check-label",for:"only-my-tasks"}," Только мои сделки ",-1))])):d("",!0),l("div",fe,[b(l("input",{class:"form-control","onUpdate:modelValue":t[8]||(t[8]=i=>e.filters.number=i),id:"titleInput",placeholder:"Номер сделки"},null,512),[[y,e.filters.number]]),t[51]||(t[51]=l("label",{for:"titleInput"},"Номер сделки",-1))]),l("div",be,[b(l("input",{class:"form-control","onUpdate:modelValue":t[9]||(t[9]=i=>e.filters.title=i),id:"titleInput",placeholder:"Название"},null,512),[[y,e.filters.title]]),t[52]||(t[52]=l("label",{for:"titleInput"},"Название",-1))]),l("div",ce,[b(l("input",{class:"form-control","onUpdate:modelValue":t[10]||(t[10]=i=>e.filters.description=i),id:"descInput",placeholder:"Описание"},null,512),[[y,e.filters.description]]),t[53]||(t[53]=l("label",{for:"descInput"},"Описание",-1))]),l("div",ye,[b(l("select",{id:"itemsPerPage",class:"form-select","onUpdate:modelValue":t[11]||(t[11]=i=>e.filters.payment_type=i)},[...t[54]||(t[54]=[l("option",{value:null},"Любой тип оплаты",-1),l("option",{value:"0"},"Наличная оплата",-1),l("option",{value:"1"},"Безналичная оплата",-1)])],512),[[_,e.filters.payment_type]]),t[55]||(t[55]=l("label",{for:"itemsPerPage"},"Тип оплаты",-1))]),l("div",ge,[b(l("select",{"onUpdate:modelValue":t[12]||(t[12]=i=>e.filters.date_type=i),class:"form-select",id:"dateTypeSelect"},[...t[56]||(t[56]=[l("option",{value:null},"Не имеет значения",-1),l("option",{value:"2"},"Дата оплаты заказа",-1),l("option",{value:"0"},"Дата создания задачи",-1),l("option",{value:"4"},"Дата доставки фактическая",-1)])],512),[[_,e.filters.date_type]]),t[57]||(t[57]=l("label",{for:"dateTypeSelect"},"Тип даты",-1))]),l("div",ve,[b(l("input",{type:"date","onUpdate:modelValue":t[13]||(t[13]=i=>e.filters.date_from=i),class:"form-control",id:"dateFromInput"},null,512),[[y,e.filters.date_from]]),t[58]||(t[58]=l("label",{for:"dateFromInput"},"Дата от",-1))]),l("div",ke,[b(l("input",{type:"date","onUpdate:modelValue":t[14]||(t[14]=i=>e.filters.date_to=i),class:"form-control",id:"dateToInput"},null,512),[[y,e.filters.date_to]]),t[59]||(t[59]=l("label",{for:"dateToInput"},"Дата до",-1))]),e.role>=3?(o(),n(c,{key:1},[l("div",he,[l("div",Se,[l("input",{type:"text",disabled:"",onChange:t[15]||(t[15]=i=>e.selectedAgent=null),value:((a=e.selectedAgent)==null?void 0:a.name)||"не указан",class:"form-control",id:"agentInput",placeholder:"Агент"},null,40,Ce),t[60]||(t[60]=l("label",{for:"agentInput"},"Администратор",-1))]),e.selectedAgent?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-light text-primary",onClick:t[16]||(t[16]=(...i)=>e.cancelAgent&&e.cancelAgent(...i))},[...t[61]||(t[61]=[l("i",{class:"fa-solid fa-xmark"},null,-1)])])):d("",!0),l("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:t[17]||(t[17]=i=>e.tab="agent")}," Выбрать ")]),l("div",we,[l("div",_e,[l("input",{class:"form-control",type:"text",disabled:"",onChange:t[18]||(t[18]=i=>e.selectedCustomer=null),value:((r=e.selectedCustomer)==null?void 0:r.name)||"не указан",id:"customerInput",placeholder:"Клиент"},null,40,Fe),t[62]||(t[62]=l("label",{for:"customerInput"},"Клиент",-1))]),e.selectedCustomer?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-light text-primary",onClick:t[19]||(t[19]=(...i)=>e.cancelCustomer&&e.cancelCustomer(...i))},[...t[63]||(t[63]=[l("i",{class:"fa-solid fa-xmark"},null,-1)])])):d("",!0),l("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:t[20]||(t[20]=i=>e.tab="customer")}," Выбрать ")])],64)):d("",!0),l("div",$e,[l("div",Pe,[l("input",{class:"form-control",type:"text",disabled:"",onChange:t[21]||(t[21]=i=>e.selectedSupplier=null),value:((f=e.selectedSupplier)==null?void 0:f.name)||"не указан",id:"supplierInput",placeholder:"Поставщик"},null,40,Te),t[64]||(t[64]=l("label",{for:"supplierInput"},"Поставщик",-1))]),e.selectedSupplier?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-light text-primary",onClick:t[22]||(t[22]=(...i)=>e.cancelSupplier&&e.cancelSupplier(...i))},[...t[65]||(t[65]=[l("i",{class:"fa-solid fa-xmark"},null,-1)])])):d("",!0),l("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:t[23]||(t[23]=i=>e.tab="supplier")}," Выбрать ")]),l("div",De,[l("div",Ie,[l("input",{type:"text",disabled:"",onChange:t[24]||(t[24]=i=>e.selectedProduct=null),value:((u=e.selectedProduct)==null?void 0:u.name)||"не указан",class:"form-control",id:"agentInput",placeholder:"Агент"},null,40,Ve),t[66]||(t[66]=l("label",{for:"agentInput"},"Продукт",-1))]),e.selectedProduct?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-light text-primary",onClick:t[25]||(t[25]=(...i)=>e.cancelProduct&&e.cancelProduct(...i))},[...t[67]||(t[67]=[l("i",{class:"fa-solid fa-xmark"},null,-1)])])):d("",!0),l("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:t[26]||(t[26]=i=>e.tab="product")}," Выбрать ")]),l("div",Me,[l("div",Ae,[l("input",{type:"text",disabled:"",onChange:t[27]||(t[27]=i=>e.selectedProductCategory=null),value:((g=e.selectedProductCategory)==null?void 0:g.name)||"не указана",class:"form-control",id:"agentInput",placeholder:"Агент"},null,40,Ue),t[68]||(t[68]=l("label",{for:"agentInput"},"Категория товара",-1))]),e.selectedProductCategory?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-light text-primary",onClick:t[28]||(t[28]=(...i)=>e.cancelProductCategory&&e.cancelProductCategory(...i))},[...t[69]||(t[69]=[l("i",{class:"fa-solid fa-xmark"},null,-1)])])):d("",!0),l("button",{type:"button",class:"btn btn-outline-light text-primary",onClick:t[29]||(t[29]=i=>e.tab="product_category")}," Выбрать ")]),e.role>=3?(o(),n(c,{key:2},[t[70]||(t[70]=l("h6",null,"Отображаемые поля",-1)),(o(!0),n(c,null,I(e.sortableFields,(i,v)=>(o(),n("div",{key:v,class:"form-check form-switch mb-2"},[b(l("input",{class:"form-check-input",type:"checkbox","onUpdate:modelValue":h=>e.field_visible[v]=h,id:`switch-${v}`},null,8,qe),[[F,e.field_visible[v]]]),l("label",{class:"form-check-label",for:`switch-${v}`},m(i),9,je)]))),128))],64)):d("",!0),l("div",ze,[b(l("select",{id:"itemsPerPage",class:"form-select","onUpdate:modelValue":t[30]||(t[30]=i=>e.size=i)},[...t[71]||(t[71]=[O('<option value="10">10</option><option value="20">20</option><option value="50">50</option><option value="100">100</option><option value="500">500</option><option value="1000">1000</option><option value="5000">5000</option>',7)])],512),[[_,e.size]]),t[72]||(t[72]=l("label",{for:"itemsPerPage"},"Элементов на странице",-1))]),l("div",Be,[b(l("input",{type:"number",id:"pageNumber",class:"form-control","onUpdate:modelValue":t[31]||(t[31]=i=>e.page=i),min:"0"},null,512),[[y,e.page]]),t[73]||(t[73]=l("label",{for:"pageNumber"},"Номер страницы",-1))]),l("button",{type:"button",onClick:t[32]||(t[32]=(...i)=>e.clearFilters&&e.clearFilters(...i)),class:"btn btn-outline-light text-secondary mb-2 w-100 p-3"},"Очистить фильтры ")],64)):d("",!0),e.tab==="agent"?(o(),n(c,{key:1},[l("button",{class:"btn btn-secondary my-3",onClick:t[33]||(t[33]=i=>e.tab="filter")},"Назад "),e.selectedAgent!=null?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-secondary p-3 w-100 mb-2",onClick:t[34]||(t[34]=i=>e.selectAgent(null))},"Отменить выбор ")):d("",!0),C(W,{"for-select":!0,onSelect:e.selectAgent},null,8,["onSelect"])],64)):d("",!0),e.tab==="product"?(o(),n(c,{key:2},[l("button",{class:"btn btn-secondary my-3",onClick:t[35]||(t[35]=i=>e.tab="filter")},"Назад "),e.selectedProduct!=null?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-secondary p-3 w-100 mb-2",onClick:t[36]||(t[36]=i=>e.selectProduct(null))},"Отменить выбор ")):d("",!0),C(Z,{"for-select":!0,onSelect:e.selectProduct},null,8,["onSelect"])],64)):d("",!0),e.tab==="product_category"?(o(),n(c,{key:3},[l("button",{class:"btn btn-secondary my-3",onClick:t[37]||(t[37]=i=>e.tab="filter")},"Назад "),e.selectedProductCategory!=null?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-secondary p-3 w-100 mb-2",onClick:t[38]||(t[38]=i=>e.selectProductCategory(null))},"Отменить выбор ")):d("",!0),C(x,{"for-select":!0,onSelect:e.selectProductCategory},null,8,["onSelect"])],64)):d("",!0),e.tab==="customer"?(o(),n(c,{key:4},[l("button",{class:"btn btn-secondary my-3",onClick:t[39]||(t[39]=i=>e.tab="filter")},"Назад "),e.selectedCustomer!=null?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-secondary p-3 w-100 mb-2",onClick:t[40]||(t[40]=i=>e.selectCustomer(null))},"Отменить выбор ")):d("",!0),C(G,{"for-select":!0,onSelect:e.selectCustomer},null,8,["onSelect"])],64)):d("",!0),e.tab==="supplier"?(o(),n(c,{key:5},[l("button",{class:"btn btn-secondary my-3",onClick:t[41]||(t[41]=i=>e.tab="filter")},"Назад "),e.selectedSupplier!=null?(o(),n("button",{key:0,type:"button",class:"btn btn-outline-secondary p-3 w-100 mb-2",onClick:t[42]||(t[42]=i=>e.selectSupplier(null))},"Отменить выбор ")):d("",!0),C(Y,{"for-select":!0,onSelect:e.selectSupplier},null,8,["onSelect"])],64)):d("",!0)]),t[75]||(t[75]=l("div",{class:"modal-footer"},[l("button",{type:"submit",class:"btn btn-primary w-100 p-3"},"Применить фильтры")],-1))],32)])])],64)}}}),Le={name:"TaskCard",props:{task:{alertStore:H(),type:Object,required:!0}},data(){return{salesStore:D(),statusLabels:{pending:"В ожидании",assigned:"Назначено",delivered:"Доставлено",completed:"Завершено",rejected:"Отклонено"}}},methods:{formatDate(s){return s?new Date(s).toLocaleDateString():"—"},async sendPaymentDocumentToTg(){await this.salesStore.sendPaymentDocumentToTg(this.task.id).then(()=>{this.alertStore.show("Чек отправлен вам в телеграм бот!")})},statusClass(s){switch(s){case"pending":return"bg-secondary";case"assigned":return"bg-info";case"delivered":return"bg-primary";case"completed":return"bg-success";case"rejected":return"bg-danger";default:return"bg-dark"}}}},Oe={class:"mb-2"},He={class:"mb-2"},Je={class:"text-muted"},Re={class:"list-group list-group-flush"},Ge={class:"list-group-item"},Ke={class:"list-group-item"},Qe={class:"list-group-item"},We={class:"list-group-item"},Xe={key:0},Ye={key:1},Ze={class:"list-group-item"},xe={class:"list-group-item"},et={class:"mt-3"},tt={key:0},lt={key:1},st={key:2},ot={class:"text-muted small"};function nt(s,e,t,a,r,f){var u,g,i,v,h,w;return o(),n(c,null,[l("h6",Oe,[p(m(t.task.title)+" ",1),l("span",{class:T(["badge",f.statusClass(t.task.status)])},m(r.statusLabels[t.task.status]),3)]),l("div",He,[l("p",Je,m(t.task.description),1),l("ul",Re,[l("li",Ge,[e[1]||(e[1]=l("strong",null,"Дата встречи:",-1)),p(" "+m(f.formatDate(t.task.due_date)),1)]),l("li",Ke,[e[2]||(e[2]=l("strong",null,"Дата продажи:",-1)),p(" "+m(f.formatDate(t.task.sale_date)),1)]),l("li",Qe,[e[3]||(e[3]=l("strong",null,"Фактическая доставка:",-1)),p(" "+m(f.formatDate(t.task.actual_delivery_date)),1)]),l("li",We,[e[4]||(e[4]=l("strong",null,"Тип оплаты:",-1)),t.task.payment_type===0?(o(),n("span",Xe,"Наличный расчет")):d("",!0),t.task.payment_type===1?(o(),n("span",Ye,"Безналичный расчет")):d("",!0)]),l("li",Ze,[e[5]||(e[5]=l("strong",null,"Количество:",-1)),p(" "+m(t.task.quantity),1)]),l("li",xe,[e[6]||(e[6]=l("strong",null,"Сумма заказа:",-1)),p(" "+m(t.task.total_price)+" ₴ ",1)])]),l("div",et,[e[13]||(e[13]=l("h6",{class:"fw-bold text-primary"},"Связанные элементы",-1)),l("p",null,[e[7]||(e[7]=l("strong",null,"Отвественный:",-1)),p(" "+m(((u=t.task.agent)==null?void 0:u.name)||"—"),1)]),t.task.customer?(o(),n("p",tt,[e[8]||(e[8]=l("strong",null,"Покупатель:",-1)),p(" "+m(((g=t.task.customer)==null?void 0:g.name)||"—"),1)])):d("",!0),l("p",null,[e[9]||(e[9]=l("strong",null,"Поставщик:",-1)),p(" "+m(((i=t.task.supplier)==null?void 0:i.name)||"—"),1)]),l("p",null,[e[10]||(e[10]=l("strong",null,"Продукт:",-1)),p(" "+m(((v=t.task.product)==null?void 0:v.name)||"—"),1)]),t.task.category?(o(),n("p",lt,[e[11]||(e[11]=l("strong",null,"Категория:",-1)),p(" "+m(((h=t.task.category)==null?void 0:h.name)||"—"),1)])):d("",!0),t.task.creator?(o(),n("p",st,[e[12]||(e[12]=l("strong",null,"Создан старшим администратором:",-1)),p(" "+m(((w=t.task.creator)==null?void 0:w.name)||"—"),1)])):d("",!0)]),t.task.payment_document_name?(o(),n("button",{key:0,onClick:e[0]||(e[0]=(...$)=>f.sendPaymentDocumentToTg&&f.sendPaymentDocumentToTg(...$)),class:"btn btn-info p-3 w-100",type:"button"},"Документ чека ")):d("",!0)]),l("div",ot," Создано: "+m(f.formatDate(t.task.created_at))+" | Обновлено: "+m(f.formatDate(t.task.updated_at)),1)],64)}const it=V(Le,[["render",nt]]),at={name:"DealForm",props:{modelValue:{type:Object,required:!0}},data(){return{salesStore:D(),localForm:{...this.modelValue}}},watch:{localForm:{deep:!0,handler(s){this.$emit("update:modelValue",s)}}},mounted(){this.localForm={...this.modelValue}},methods:{async sendPaymentDocumentToTg(){await this.salesStore.sendPaymentDocumentToTg(this.localForm.id).then(()=>{this.alertStore.show("Чек отправлен вам в телеграм бот!")})},onFileChange(s){const e=s.target.files;this.localForm.files=Array.from(e)},onSubmit(){this.$emit("callback",this.localForm)},removeFile(s){this.localForm.files.splice(s,1)}}},dt={class:"form-floating mb-2"},rt={class:"form-check form-switch mb-2"},ut={key:0,class:"form-floating mb-2"},mt={class:"form-floating mb-2"},pt={class:"form-floating mb-2"},ft={class:"form-floating mb-2"},bt={class:"form-floating mb-2"},ct=["required"],yt={key:1,class:"list-group mb-2"},gt={class:"text-break small lh-1"},vt=["onClick"],kt={class:"form-check form-switch mb-2"},ht={class:"form-check form-switch mb-2"},St={key:2,class:"form-floating mb-2"},Ct={class:"w-100 mb-2",style:{background:"#eee",height:"10px","border-radius":"4px"}},wt={class:"fst-italic"},_t={class:"fw-bold"};function Ft(s,e,t,a,r,f){return o(),n("form",{onSubmit:e[12]||(e[12]=k((...u)=>f.onSubmit&&f.onSubmit(...u),["prevent"]))},[l("div",dt,[b(l("input",{"onUpdate:modelValue":e[0]||(e[0]=u=>r.localForm.actual_delivery_date=u),type:"date",class:"form-control",id:"sale_date",required:""},null,512),[[y,r.localForm.actual_delivery_date]]),e[13]||(e[13]=l("label",{for:"sale_date"},"Дата доставки",-1))]),l("div",rt,[b(l("input",{"onUpdate:modelValue":e[1]||(e[1]=u=>r.localForm.same_sale_delivery_date=u),class:"form-check-input",type:"checkbox",role:"switch",id:"same_sale_delivery_date"},null,512),[[F,r.localForm.same_sale_delivery_date]]),e[14]||(e[14]=l("label",{class:"form-check-label",for:"same_sale_delivery_date"},"Дата доставки и оплаты совпадает ",-1))]),r.localForm.same_sale_delivery_date?d("",!0):(o(),n("div",ut,[b(l("input",{"onUpdate:modelValue":e[2]||(e[2]=u=>r.localForm.sale_date=u),type:"date",class:"form-control",id:"sale_date",required:""},null,512),[[y,r.localForm.sale_date]]),e[15]||(e[15]=l("label",{for:"sale_date"},"Дата оплаты",-1))])),l("div",mt,[b(l("input",{"onUpdate:modelValue":e[3]||(e[3]=u=>r.localForm.quantity=u),type:"number",class:"form-control",id:"quantity",placeholder:"Количество",required:""},null,512),[[y,r.localForm.quantity,void 0,{number:!0}]]),e[16]||(e[16]=l("label",{for:"quantity"},"Количество",-1))]),l("div",pt,[b(l("input",{"onUpdate:modelValue":e[4]||(e[4]=u=>r.localForm.total_price=u),type:"number",step:"0.01",class:"form-control",id:"total_price",placeholder:"Сумма",required:""},null,512),[[y,r.localForm.total_price,void 0,{number:!0}]]),e[17]||(e[17]=l("label",{for:"total_price"},"Сумма сделки",-1))]),l("div",ft,[b(l("select",{class:"form-select","onUpdate:modelValue":e[5]||(e[5]=u=>r.localForm.payment_type=u),id:"payment-type","aria-label":"Floating label select example"},[...e[18]||(e[18]=[l("option",{value:"0"},"Наличный расчет",-1),l("option",{value:"1"},"Безналичный расчет",-1)])],512),[[_,r.localForm.payment_type]]),e[19]||(e[19]=l("label",{for:"payment-type"},"Тип оплаты",-1))]),r.localForm.payment_type==="1"?(o(),n(c,{key:1},[e[23]||(e[23]=l("h6",null,"Фотография чека",-1)),r.localForm.payment_document_name?(o(),n("span",{key:0,onClick:e[6]||(e[6]=(...u)=>f.sendPaymentDocumentToTg&&f.sendPaymentDocumentToTg(...u)),style:{cursor:"pointer","text-align":"left"},class:"mb-2 w-100 badge bg-success text-decoration-underline"},[...e[20]||(e[20]=[l("i",{style:{"margin-right":"5px"},class:"fa-brands fa-telegram"},null,-1),p(" Чек прикреплен к сделке. ",-1)])])):d("",!0),l("div",bt,[r.localForm.payment_document_name?(o(),n("input",{key:0,type:"file",multiple:"",class:"form-control",onChange:e[7]||(e[7]=(...u)=>f.onFileChange&&f.onFileChange(...u)),accept:".jpg,.png,.pdf"},null,32)):(o(),n("input",{key:1,type:"file",multiple:"",class:"form-control",onChange:e[8]||(e[8]=(...u)=>f.onFileChange&&f.onFileChange(...u)),accept:".jpg,.png,.pdf",required:!r.localForm.receipt_is_lost},null,40,ct)),e[21]||(e[21]=l("label",null,"Прикрепить",-1))]),r.localForm.files.length?(o(),n("ul",yt,[(o(!0),n(c,null,I(r.localForm.files,(u,g)=>(o(),n("li",{key:g,class:"list-group-item d-flex justify-content-between align-items-center"},[l("span",gt,m(u.name),1),l("button",{type:"button",class:"btn btn-sm btn-outline-danger",onClick:i=>f.removeFile(g)}," ✕ ",8,vt)]))),128))])):d("",!0),l("div",kt,[b(l("input",{"onUpdate:modelValue":e[9]||(e[9]=u=>r.localForm.receipt_is_lost=u),class:"form-check-input",type:"checkbox",role:"switch",id:"need_automatic_naming"},null,512),[[F,r.localForm.receipt_is_lost]]),e[22]||(e[22]=l("label",{class:"form-check-label",for:"need_automatic_naming"}," Чек был утрачен ",-1))])],64)):d("",!0),l("div",ht,[b(l("input",{"onUpdate:modelValue":e[10]||(e[10]=u=>r.localForm.need_additional_comment=u),class:"form-check-input",type:"checkbox",role:"switch",id:"need_add_comment"},null,512),[[F,r.localForm.need_additional_comment]]),e[24]||(e[24]=l("label",{class:"form-check-label",for:"need_add_comment"},"Дополнительный комментарий к сделке ",-1))]),r.localForm.need_additional_comment?(o(),n("div",St,[b(l("textarea",{"onUpdate:modelValue":e[11]||(e[11]=u=>r.localForm.additional_comment=u),class:"form-control",id:"additional_comment",placeholder:"Дополнительный комментарий",style:{height:"120px"},required:""},null,512),[[y,r.localForm.additional_comment]]),e[25]||(e[25]=l("label",{for:"additional_comment"},"Комментарий",-1))])):d("",!0),r.salesStore.progress>0?(o(),n(c,{key:3},[l("div",Ct,[l("div",{style:R({width:r.salesStore.progress+"%",background:"#42b883",height:"10px",borderRadius:"4px"})},null,4)]),l("p",wt,[e[26]||(e[26]=p("Уже загружено ",-1)),l("span",_t,m(r.salesStore.progress)+"%",1)])],64)):d("",!0),e[27]||(e[27]=l("button",{type:"submit",class:"btn btn-success w-100 p-3"}," Подтвердить ",-1))],32)}const $t=V(at,[["render",Ft]]),Pt={class:"d-flex justify-content-between my-2"},Tt={key:0,class:"fw-bold small"},Dt={class:"list-group"},It=["onClick"],Vt={key:0,class:"fa-solid fa-clock",style:{"margin-left":"8px"}},Mt={key:1,class:"badge bg-success"},At={key:2,class:"badge bg-primary mx-1"},Ut={key:0,class:"fw-bold mb-0 small",style:{"font-size":"14px"}},qt={key:1,class:"fw-bold mb-0 small",style:{"font-size":"14px"}},jt={key:2,class:"fw-bold mb-2",style:{"font-size":"14px"}},zt={key:0},Bt={key:1},Et={key:3,class:"fw-bold mb-2",style:{"font-size":"14px"}},Nt={key:4,class:"text-muted small"},Lt={key:5,class:"mb-2 small"},Ot={key:6,class:"mb-2"},Ht={class:"fw-bold"},Jt={key:7,class:"mb-2"},Rt={class:"fw-bold"},Gt={key:8,class:"mb-2 small"},Kt={class:"fw-bold"},Qt={key:9,class:"mb-2"},Wt={class:"fw-bold"},Xt={key:10,class:"mb-2"},Yt={class:"fw-bold"},Zt={key:11,class:"mb-2"},xt={class:"fw-bold"},el={key:12,class:"mb-2"},tl={class:"fw-bold"},ll={class:"dropdown"},sl={class:"dropdown-menu dropdown-menu-end"},ol={key:0},nl=["onClick"],il=["onClick"],al=["onClick"],dl={key:0},rl=["onClick"],ul=["onClick"],ml=["onClick"],pl=["onClick"],fl={key:1,class:"alert alert-info mt-3"},bl={class:"modal fade",id:"editSaleModal",tabindex:"-1"},cl={class:"modal-dialog modal-fullscreen"},yl={class:"modal-content"},gl={class:"modal-body"},vl={class:"modal fade",id:"viewSaleModal",tabindex:"-1"},kl={class:"modal-dialog modal-lg"},hl={class:"modal-content"},Sl={class:"modal-body"},Cl={class:"modal fade",id:"confirmDealModal",tabindex:"-1"},wl={class:"modal-dialog"},_l={class:"modal-content"},Fl={class:"modal-body"},$l={name:"SaleList",props:["forSelect","adminId","agentId","productId","customerId","supplierId"],data(){return{selection:[],field_visible:null,sales:[],search:"",alertStore:H(),userStore:J(),salesStore:D(),agentStore:X(),modalStore:ee(),selectedSale:null,saleStatuses:{pending:"В ожидании",assigned:"Назначено",completed:"Завершено",rejected:"Отклонено",delivered:"Доставляется"},dealForm:{sale_date:null,actual_delivery_date:null,quantity:0,total_price:0,files:[],additional_comment:null,payment_document_name:null,payment_type:"0",receipt_is_lost:!1,same_sale_delivery_date:!0,need_additional_comment:!1}}},computed:{user(){return this.userStore.self||null},filteredSales(){return this.salesStore.items.filter(s=>s.title.toLowerCase().includes(this.search.toLowerCase()))}},created(){this.salesStore.setFilters({created_by_id:this.adminId||null,customer_id:this.customerId||null,product_id:this.productId||null,supplier_id:this.supplierId||null}),this.salesStore.fetchFiltered()},methods:{async sendPaymentDocumentToTg(s){await this.salesStore.sendPaymentDocumentToTg(s).then(()=>{this.alertStore.show("Чек отправлен вам в телеграм бот!")})},selectAll(){this.selection.length===0?this.salesStore.items.forEach(s=>{this.selection.indexOf(s.id)===-1&&this.selection.push(s.id)}):this.selection=[]},toggleSelection(s){let e=this.selection.findIndex(t=>t===s);e===-1?this.selection.push(s):this.selection.splice(e,1)},async fetchData(s=1){await this.salesStore.fetchAllByPage(s);const e=bootstrap.Modal.getInstance(document.getElementById("editSaleModal"));e&&e.hide();const t=bootstrap.Modal.getInstance(document.getElementById("confirmDealModal"));t&&t.hide()},async fetchDataByUrl(s){await this.salesStore.fetchByUrl(s)},openEdit(s){this.selectedSale=null,this.$nextTick(()=>{this.selectedSale=s,new bootstrap.Modal(document.getElementById("editSaleModal")).show()})},confirmDelete(s){var e;this.selectedSale=s,this.modalStore.open(`Вы уверены, что хотите удалить ${(e=this.selectedSale)==null?void 0:e.title}?`,()=>this.salesStore.deleteSale(this.selectedSale.id),()=>this.modalStore.close())},confirmCancelDeal(s){var e;this.selectedSale=s,this.modalStore.open(`Вы уверены, что хотите отменить сделку ${(e=this.selectedSale)==null?void 0:e.title}?`,()=>this.salesStore.cancelDeal(s),()=>this.modalStore.close())},async deleteSale(){try{await this.salesStore.deleteSale(),bootstrap.Modal.getInstance(document.getElementById("deleteSaleModal")).hide()}catch(s){console.error("Ошибка удаления продажи:",s)}},openView(s){this.selectedSale=null,this.$nextTick(()=>{this.selectedSale=s,new bootstrap.Modal(document.getElementById("viewSaleModal")).show()})},openConfirmPayment(s){this.selectedSale=null,this.$nextTick(()=>{this.selectedSale=s,this.paymentConfirmForm.payment_type=s.payment_type,new bootstrap.Modal(document.getElementById("paymentConfirmForm")).show()})},acceptAll(){this.modalStore.open("Вы уверены, что хотите подтвердить все выбранные заявки? Будет подтвержден факт доставки и факт оплаты",()=>{this.salesStore.acceptAll(this.selection).then(()=>{this.salesStore.fetchFiltered()}),this.selection=[]},()=>{this.modalStore.close(),this.selection=[]})},openConfirmDeal(s){this.selectedSale=null,this.salesStore.progress=0,this.$nextTick(()=>{this.selectedSale=s,this.dealForm.quantity=s.quantity,this.dealForm.id=s.id,this.dealForm.payment_type=""+s.payment_type,this.dealForm.total_price=s.total_price,this.dealForm.payment_document_name=s.payment_document_name,new bootstrap.Modal(document.getElementById("confirmDealModal")).show()})},async confirmDeal(){this.dealForm.id=this.selectedSale.id,await this.salesStore.confirmDealAndPayment(this.dealForm).then(()=>{this.dealForm.files=[],this.dealForm.actual_delivery_date="",this.dealForm.quantity=1,this.dealForm.total_price=0,this.dealForm.same_sale_delivery_date=!0,this.dealForm.need_additional_comment=!1,this.dealForm.additional_comment=""}),bootstrap.Modal.getInstance(document.getElementById("confirmDealModal")).hide()},async cancelDeal(s){try{await this.salesStore.cancelDeal(s)}catch(e){console.error("Ошибка отмены сделки:",e)}},applyFilters(s){var r;this.field_visible=s.field_visible;let e=s.size||30,t=s.page||1;const a=s.only_my_tasks||(((r=this.user)==null?void 0:r.role)||0)<3;delete s.field_visible,delete s.only_my_tasks,this.salesStore.setFilters(s),a?this.salesStore.selfSalesFiltered(t,e):this.salesStore.fetchFiltered(t,e)}}},Pl=Object.assign($l,{setup(s){return(e,t)=>(o(),n(c,null,[b(l("input",{"onUpdate:modelValue":t[0]||(t[0]=a=>e.search=a),type:"text",class:"form-control mb-2",placeholder:"Поиск по названию..."},null,512),[[y,e.search]]),C(Ne,{onApplyFilters:e.applyFilters},null,8,["onApplyFilters"]),l("div",Pt,[l("div",null,[l("a",{href:"javascript:void(0)",onClick:t[1]||(t[1]=(...a)=>e.selectAll&&e.selectAll(...a)),style:{"font-size":"12px"},class:"small fw-bold"},"Выделить все"),e.selection.length>0?(o(),n("a",{key:0,href:"javascript:void(0)",onClick:t[2]||(t[2]=(...a)=>e.acceptAll&&e.acceptAll(...a)),style:{"font-size":"12px"},class:"small text-danger mx-2 fw-bold"},"Подтвердить заявки ("+m(e.selection.length)+")",1)):d("",!0)]),e.salesStore.pagination?(o(),n("span",Tt,"Всего "+m(e.salesStore.pagination.total)+" ед.",1)):d("",!0)]),l("ul",Dt,[(o(!0),n(c,null,I(e.filteredSales,a=>{var r,f,u,g,i,v,h,w,$,M,A,U,q,j,z,B,E,N,L;return o(),n("li",{class:T([{"border-primary":e.selection.indexOf(a.id)!==-1},"list-group-item d-flex justify-content-between align-items-start"]),key:a.id},[l("div",null,[l("p",{class:"fw-bold mb-2 small",onClick:S=>e.toggleSelection(a.id)},[a.payment_type===0?(o(),n("span",{key:0,class:T(["badge",{"bg-warning":!a.sale_date,"bg-success":a.sale_date}])},[t[4]||(t[4]=l("i",{class:"fa-solid fa-money-bill"},null,-1)),a.sale_date?d("",!0):(o(),n("i",Vt))],2)):d("",!0),a.payment_type===1?(o(),n("span",Mt,[...t[5]||(t[5]=[l("i",{class:"fa-solid fa-credit-card"},null,-1)])])):d("",!0),((r=e.field_visible)!=null&&r.id,o(),n("span",At,"#"+m(a.id),1)),p(" "+m(a.title),1)],8,It),((f=e.field_visible)!=null&&f.due_date,o(),n("p",Ut,"Дата задания "+m(a.due_date||"не указана"),1)),((u=e.field_visible)!=null&&u.sale_date,o(),n("p",qt,"Дата продажи "+m(a.sale_date||"не указана"),1)),(g=e.field_visible)!=null&&g.payment_type?(o(),n("p",jt,[t[6]||(t[6]=p(" Тип оплаты ",-1)),a.payment_type===0?(o(),n("span",zt,"Наличный расчет")):d("",!0),a.payment_type===1?(o(),n("span",Bt,"Безналичный расчет")):d("",!0)])):d("",!0),(i=e.field_visible)!=null&&i.actual_delivery_date?(o(),n("p",Et," Фактическая дата доставки "+m(a.actual_delivery_date||"не указана"),1)):d("",!0),((v=e.field_visible)!=null&&v.status,o(),n("small",Nt,[t[7]||(t[7]=p("Статус: ",-1)),l("span",{class:T(["badge",{"bg-warning":a.status==="pending","bg-info":a.status==="assigned","bg-primary":a.status==="delivered","bg-success":a.status==="completed","bg-danger":a.status==="rejected"}])},m(e.saleStatuses[a.status]),3)])),((h=e.field_visible)!=null&&h.description,o(),n("p",Lt,m(a.description),1)),(w=e.field_visible)!=null&&w.quantity?(o(),n("p",Ot,[t[8]||(t[8]=p("Доставляемое число товара ",-1)),l("span",Ht,m(a.quantity||"не указана"),1),t[9]||(t[9]=p(" ед.",-1))])):d("",!0),($=e.field_visible)!=null&&$.total_price?(o(),n("p",Jt,[t[10]||(t[10]=p("Сумма заказа ",-1)),l("span",Rt,m(a.total_price),1),t[11]||(t[11]=p(" руб.",-1))])):d("",!0),((M=e.field_visible)!=null&&M.agent_id,o(),n("p",Gt,[t[12]||(t[12]=p("Оформил заказ ",-1)),l("span",Kt,m(((A=a.agent)==null?void 0:A.name)||a.agent_id||"-"),1)])),(U=e.field_visible)!=null&&U.customer_id?(o(),n("p",Qt,[t[13]||(t[13]=p("Клиент ",-1)),l("span",Wt,m(((q=a.customer)==null?void 0:q.name)||a.customer_id||"-"),1)])):d("",!0),(j=e.field_visible)!=null&&j.supplier_id?(o(),n("p",Xt,[t[14]||(t[14]=p("Поставщик ",-1)),l("span",Yt,m(((z=a.supplier)==null?void 0:z.name)||a.supplier_id||"-"),1)])):d("",!0),(B=e.field_visible)!=null&&B.created_by_id?(o(),n("p",Zt,[t[15]||(t[15]=p("Старший администратор ",-1)),l("span",xt,m(((E=a.creator)==null?void 0:E.name)||a.created_by_id||"-"),1)])):d("",!0),(N=e.field_visible)!=null&&N.product_id?(o(),n("p",el,[t[16]||(t[16]=p("Товар ",-1)),l("span",tl,m(((L=a.product)==null?void 0:L.name)||a.product_id||"-"),1)])):d("",!0)]),l("div",ll,[t[19]||(t[19]=l("button",{class:"btn btn-sm btn-outline-light text-primary",type:"button","data-bs-toggle":"dropdown"},[l("i",{class:"fas fa-bars"})],-1)),l("ul",sl,[s.forSelect?(o(),n("li",ol,[l("a",{class:"dropdown-item",href:"#",onClick:k(S=>e.$emit("select",a),["prevent"])},"Выбрать",8,nl)])):d("",!0),s.forSelect?d("",!0):(o(),n(c,{key:1},[l("li",null,[l("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:k(S=>e.openView(a),["prevent"])},"Просмотреть",8,il)]),l("li",null,[l("a",{class:"dropdown-item",href:"javascript:void(0)",onClick:k(S=>e.openEdit(a),["prevent"])},"Редактировать",8,al)]),a.status!=="completed"?(o(),n("li",dl,[l("a",{class:"dropdown-item text-success",href:"javascript:void(0)",onClick:k(S=>e.openConfirmDeal(a),["prevent"])},"Подтвердить оплату и доставка",8,rl)])):d("",!0),a.payment_document_name?(o(),n(c,{key:1},[t[17]||(t[17]=l("li",null,[l("hr",{class:"dropdown-divider"})],-1)),l("li",null,[l("a",{class:"dropdown-item text-success",href:"javascript:void(0)",onClick:k(S=>e.sendPaymentDocumentToTg(a.id),["prevent"])},"Отправить документ в чат",8,ul)])],64)):d("",!0),t[18]||(t[18]=l("li",null,[l("hr",{class:"dropdown-divider"})],-1)),l("li",null,[l("a",{class:"dropdown-item text-danger",href:"javascript:void(0)",onClick:k(S=>e.confirmDelete(a),["prevent"])},"Удалить",8,ml)]),l("li",null,[l("a",{class:"dropdown-item text-danger",href:"javascript:void(0)",onClick:k(S=>e.confirmCancelDeal(a),["prevent"])},"Отменить сделку",8,pl)])],64))])])],2)}),128))]),e.salesStore.items.length>0?(o(),P(Q,{key:0,pagination:e.salesStore.pagination,onPageChanged:e.fetchDataByUrl},null,8,["pagination","onPageChanged"])):d("",!0),e.salesStore.items.length===0?(o(),n("div",fl," На текущий момент у вас нет продаж. ")):d("",!0),l("div",bl,[l("div",cl,[l("div",yl,[t[20]||(t[20]=l("div",{class:"modal-header"},[l("h5",{class:"modal-title"},"Редактирование задания"),l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l("div",gl,[e.selectedSale?(o(),P(K,{key:0,initialData:e.selectedSale,onSaved:e.fetchData},null,8,["initialData","onSaved"])):d("",!0)])])])]),l("div",vl,[l("div",kl,[l("div",hl,[t[21]||(t[21]=l("div",{class:"modal-header"},[l("h5",{class:"modal-title"},"Карточка задания"),l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l("div",Sl,[e.selectedSale?(o(),P(it,{key:0,task:e.selectedSale},null,8,["task"])):d("",!0)])])])]),l("div",Cl,[l("div",wl,[l("div",_l,[t[22]||(t[22]=l("div",{class:"modal-header"},[l("h5",{class:"modal-title"},"Подтверждение сделки"),l("button",{type:"button",class:"btn-close","data-bs-dismiss":"modal"})],-1)),l("div",Fl,[e.selectedSale?(o(),P($t,{key:0,modelValue:e.dealForm,"onUpdate:modelValue":t[3]||(t[3]=a=>e.dealForm=a),onCallback:e.confirmDeal},null,8,["modelValue","onCallback"])):d("",!0)])])])])],64))}}),zl=V(Pl,[["__scopeId","data-v-04923f3c"]]);export{zl as S};
